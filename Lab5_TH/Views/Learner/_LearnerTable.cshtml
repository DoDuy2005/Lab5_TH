@model IEnumerable<Lab5_TH.Models.Learner>

@if (Model == null || !Model.Any())
{
    <div class="alert alert-info m-3">
        <i class="fas fa-info-circle me-2"></i>No learners found.
    </div>
}
else
{
    <div class="table-responsive">
        <table class="table table-hover table-striped mb-0">
            <thead class="table-light">
                <tr>
                    <th>Mã</th>
                    <th>Tên</th>
                    <th>Họ</th>
                    <th>Ngành</th>
                    <th>Ngày Nhập Học</th>
                    <th>Chức năng</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var s in Model)
                {
                    <tr>
                        <td>@s.LearnerID</td>
                        <td>@s.FirstMidName</td>
                        <td>@s.LastName</td>
                        <td>
                            @if (s.Major != null)
                            {
                                <span class="badge bg-primary">@s.Major.MajorName</span>
                            }
                            else
                            {
                                <span class="badge bg-secondary">No Major</span>
                            }
                        </td>
                        <td>@s.EnrollmentDate.ToString("MM/dd/yyyy")</td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <a asp-action="Edit" asp-route-id="@s.LearnerID" class="btn btn-outline-primary">
                                    <i class="fas fa-edit"></i> Edit
                                </a>
                                <a asp-action="Delete" asp-route-id="@s.LearnerID" class="btn btn-outline-danger">
                                    <i class="fas fa-trash"></i> Delete
                                </a>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <!-- Thanh phân trang -->
    @if (ViewBag.pageNum > 1)
    {
        <div class="card-footer">
            <ul class="pagination justify-content-center mb-0">
                @for (int i = 1; i <= ViewBag.pageNum; i++)
                {
                    <li class="page-item @(i == ViewBag.currentPage ? "active" : "")"
                        page="@i"
                        mid="@ViewBag.mid"
                        keyword="@ViewBag.keyword">
                        <a class="page-link" href="#">@i</a>
                    </li>
                }
            </ul>
        </div>
    }
}